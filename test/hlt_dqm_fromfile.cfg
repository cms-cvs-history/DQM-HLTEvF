# $Id$ 
process DQM={
    
    untracked PSet maxEvents = {untracked int32 input = -1}

#    // SM Event Source
#     source = NewEventStreamFileReader {
#        untracked vstring fileNames = {
#        "/store/RelVal/2007/7/10/RelVal-QCD_Pt_800_1000-1184053150/0000/820F6026-2B2F-DC11-B2E1-000423D6A0BE.root"
#        }
#     }

source = PoolSource {
     untracked vstring fileNames = {"file:HLTFromDigiRaw.root"}    
}

#######################################################################
##  DQM SERVICES
#######################################################################
  include "DQMServices/Core/data/DQM.cfg"
  replace DQMStore.verbose = 0
  # this turns off the collector since we are running from a file
  replace DQM.collectorHost = ""


# this is the best way to do it
   include "DQM/HLTEvF/data/HLTMonitor.cff"    

# this is a less good way - you have to define your own path
   include "DQM/HLTEvF/data/FourVector.cfi"
   path hlt4vector = {  hltResults }

    # output into logfiles (verbose)
    service = MessageLogger {
	untracked vstring destinations = { 
	    "detailedInfo" , "critical" , "cout"
	}
	untracked vstring debugModules = { "*" }
	untracked PSet critical     = { untracked string threshold = "ERROR"   }
	untracked PSet detailedInfo = { untracked string threshold = "INFO"    } 
	untracked PSet cout = {
	    untracked string threshold = "WARNING"
	    untracked bool noLineBreaks = true
	    untracked PSet WARNING = {untracked int32 limit = 0 }
	}
    }	

    #########################################################
    #### BEGIN DQM Online Environment #######################
    #########################################################

    #### PUT THE FOLLOWING INTO YOUR PATH FOR OPERATION AT P5
    #### REPLACE SubsystemName by the name of your source ###

    # use include file for dqmEnv dqmSaver
       include "DQMServices/Components/test/dqm_onlineEnv.cfi"
       # put your subsystem name here: 
       # DT, Ecal, Hcal, SiStrip, Pixel, RPC, CSC, L1T 
       # (this goes into the filename)
       replace dqmSaver.fileName      = "HLT"
       replace dqmSaver.dirName       = "."
       # (this goes into the foldername)
       replace dqmEnv.subSystemFolder = "HLT"
       
       # optionally change fileSaving  conditions
       // replace dqmSaver.prescaleLS =   -1
       // replace dqmSaver.prescaleTime = -1 # in minutes
       // replace dqmSaver.prescaleEvt =  -1
       // replace dqmSaver.saveAtRunEnd = true
       // replace dqmSaver.saveAtJobEnd = false
       # will add switch to select histograms to be saved soon
   
    #########################################################
    #### END ################################################
    #########################################################
    module dumpcont = EventContentAnalyzer{}      
    path dump = {dumpcont}
### FIX YOUR  PATH TO INCLUDE dqmSaver
#    path p ={dqmSource & qTester & dqmClient & dqmSaver }
     path p ={ dqmSaver }

} 
