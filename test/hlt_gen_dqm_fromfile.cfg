# $Id: hlt_gen_dqm_fromfile.cfg,v 1.1.2.1 2008/06/30 14:22:38 bjbloom Exp $ 
process DQM={
    
    #untracked PSet maxEvents = {untracked int32 input = -1}
    untracked PSet maxEvents = {untracked int32 input = 500}

#    // SM Event Source
#     source = NewEventStreamFileReader {
#        untracked vstring fileNames = {
#        "/store/RelVal/2007/7/10/RelVal-QCD_Pt_800_1000-1184053150/0000/820F6026-2B2F-DC11-B2E1-000423D6A0BE.root"
#        }
#     }

source = PoolSource {
     untracked vstring fileNames = {
     "file:/cms/mon/data/lookarea_SM/GlobalCruzet3.00051186.0001.HLTDEBUG.storageManager.0.0000.dat",
	"file:/cms/mon/data/lookarea_SM/GlobalCruzet3.00051186.0001.HLTDEBUG.storageManager.1.0000.dat",
	"file:/cms/mon/data/lookarea_SM/GlobalCruzet3.00051186.0001.HLTDEBUG.storageManager.2.0000.dat",
	"file:/cms/mon/data/lookarea_SM/GlobalCruzet3.00051186.0001.HLTDEBUG.storageManager.3.0000.dat"
#     "file:HLTFromDigiRaw.root"
     }    
}
replace PoolSource.fileNames = {
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/3214C5AE-8C3E-DD11-8C7B-001617DBD288.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/328A3473-8D3E-DD11-A102-000423D99896.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/3CFD97A7-873E-DD11-BFFD-000423D94534.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/44786E4E-8C3E-DD11-B6DF-0016177CA7A0.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/5AF6E14F-923E-DD11-9E62-000423D98804.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/5E6DC4D9-8C3E-DD11-A4E4-000423D99B3E.root',
#'/store/relval/2008/6/20/RelVal-RelValZEE-1213921089/0000/5E7C18F0-863E-DD11-9C28-001617DBD224.root'
#'/store/relval/2008/6/4/RelVal-RelValZMM-1212543891/0000/0CF33881-1C32-DD11-9BEA-000423D94C68.root',
#'/store/relval/2008/6/4/RelVal-RelValZMM-1212543891/0000/280522B2-1A32-DD11-B4BE-000423D98B5C.root',
#'/store/relval/2008/6/4/RelVal-RelValZMM-1212543891/0000/2EFB4E49-1E32-DD11-A1AC-000423D6006E.root'
#'/store/relval/2008/6/6/RelVal-RelValZMM-1212543891-STARTUP-2nd-02/0000/4A3DAF35-E533-DD11-9D80-001617E30F56.root',
#'/store/relval/2008/6/6/RelVal-RelValZMM-1212543891-STARTUP-2nd-02/0000/4C567E3C-E533-DD11-901D-000423D99F3E.root',
#'/store/relval/2008/6/6/RelVal-RelValZMM-1212543891-STARTUP-2nd-02/0000/6EC2CB33-E533-DD11-9CFA-000423D944F0.root',
#'/store/relval/2008/6/6/RelVal-RelValZMM-1212543891-STARTUP-2nd-02/0000/74AF1646-E533-DD11-84EC-001617DBD556.root',
#'/store/relval/2008/6/6/RelVal-RelValZMM-1212543891-STARTUP-2nd-02/0000/7CFE4AAD-E833-DD11-8E44-001617E30D40.root'
#'file:/tmp/bjbloom/1622EE94-871A-DD11-849B-000423D9870C.root'
'file:/tmp/bjbloom/0491EAAC-DF19-DD11-AECD-000423D98950.root'
}
           
# this is the best way to do it
   include "DQM/HLTEvF/data/HLTMonitor.cff"    

    # output into logfiles (verbose)
    service = MessageLogger {
	untracked vstring destinations = { 
	    "detailedInfo" , "critical" , "cout"
	}
	untracked vstring debugModules = { "*" }
	untracked PSet critical     = { untracked string threshold = "ERROR" }
	untracked PSet detailedInfo = { untracked string threshold = "INFO" } 
	untracked PSet cout = {
	    untracked string threshold = "WARNING"
	    untracked bool noLineBreaks = true
	    untracked PSet WARNING = {untracked int32 limit = 0 }
	}
    }	

    #########################################################
    #### BEGIN DQM Environment        #######################
    #########################################################
    include "DQMServices/Core/data/DQM.cfg"
    replace DQMStore.verbose = 0
    # this turns off the collector since we are running from a file
    replace DQM.collectorHost = ""

    # use include file for dqmSaver and dqmEnv (unused)
    include "DQMServices/Components/data/DQMEnvironment.cfi"
    # I've found this to be most useful even for running from file...
       replace dqmSaver.convention = "Online"
       
       # optionally change fileSaving  conditions
       # replace dqmSaver.saveByLumiSection =  1
       # replace dqmSaver.saveByMinute      = -1
       # replace dqmSaver.saveByEvent       = -1
       replace dqmSaver.saveByRun         =  1
       # replace dqmSaver.forceRunNumber         =  666
       replace dqmSaver.saveAtJobEnd      = true
   
    #########################################################
    #### END ################################################
    #########################################################
    module dumpcont = EventContentAnalyzer{}      
    # path dump = {dumpcont}
### FIX YOUR  PATH TO INCLUDE dqmSaver
#    path p ={dqmSource & qTester & dqmClient & dqmSaver }
     endpath p ={ dqmSaver }

} 
